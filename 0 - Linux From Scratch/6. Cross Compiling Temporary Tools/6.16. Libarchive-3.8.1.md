The Libarchive package provides the ability to create tar archives as well as perform various other kinds of archive manipulation. Libarchive can be used on previously created archives to extract files, to store additional files, or to update or list files which were already stored.

---
## 6.16.1. Installation of Libarchive

> ## Note!
> 
> Build Xz first!

Prepare Libarchive for compilation:

```shell
./configure --prefix=/usr \
 --host=$LFS_TGT \
 --build=$(build/autoconf/config.guess) \
 --without-xml2
```

Compile the package:

```shell
make
```

Install the package:

```shell
make DESTDIR=$LFS install
```

Set up some links:

```shell
ln -sv bsdtar  $LFS/bin/tar
ln -sv bsdcpio $LFS/bin/cpio
ln -sv bsdunzip $LFS/bin/unzip
ln -sv bsdtar.1  $LFS/usr/share/man/man1/tar.1
ln -sv bsdcpio.1 $LFS/usr/share/man/man1/cpio.1
ln -sv bsdunzip.1 $LFS/usr/share/man/man1/unzip.1
```

Remove the libtool archive file because it is harmful for cross compilation, and remove a useless static library:

```shell
rm -v $LFS/usr/lib/libarchive.{a,la}
```
